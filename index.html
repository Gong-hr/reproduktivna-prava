<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>OpenDataDay2019 Hackathon</title>
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.css"/>
  <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/leaflet.markercluster.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Lora|Ubuntu+Mono" rel="stylesheet">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <style>
	h1{ font-size: 1.75em; }
    #map{ width: 100%; height: 500px; }
	:root { font-size: 18px; font-family: 'Lora', serif; padding-top: 20px; }
  </style>
</head>
<body>
  <div class="container">
  <h1>Dostupnost medicinske usluge prekida trudnoće u Hrvatskoj</h1>
  </br>
  <div id="map"></div>

  <script>

  // initialize the map
  var map = L.map('map').setView([44.67, 15.92], 7);

  // load a tile layer
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
    {
      maxZoom: 20,
      minZoom: 2
    }).addTo(map);

	//polygons

	$.getJSON("/reproduktivna-prava/maps/grad-zagreb.geojson",function(hoodData){
	   L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 400 ) fillColor = "#006837";
	      else if ( density > 300 ) fillColor = "#31a354";
	      else if ( density > 200 ) fillColor = "#78c679";
	      else if ( density > 100 ) fillColor = "#c2e699";
	      else if ( density > 1 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});


	$.getJSON("/reproduktivna-prava/maps/krapinsko-zagorska.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 400 ) fillColor = "#006837";
	      else if ( density > 300 ) fillColor = "#31a354";
	      else if ( density > 200 ) fillColor = "#78c679";
	      else if ( density > 100 ) fillColor = "#c2e699";
	      else if ( density > 1 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});


	$.getJSON("/reproduktivna-prava/maps/primorsko-goranska.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 400 ) fillColor = "#006837";
	      else if ( density > 300 ) fillColor = "#31a354";
	      else if ( density > 200 ) fillColor = "#78c679";
	      else if ( density > 100 ) fillColor = "#c2e699";
	      else if ( density > 1 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});
	
	
	$.getJSON("/reproduktivna-prava/maps/bjelovarsko-bilogorska.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});

	$.getJSON("/reproduktivna-prava/maps/brodsko-posavska.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});


	$.getJSON("/reproduktivna-prava/maps/dubrovacko-neretvanska.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});	
	
	$.getJSON("/reproduktivna-prava/maps/istarska.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 760 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});

	$.getJSON("/reproduktivna-prava/maps/karlovacka.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});


	$.getJSON("/reproduktivna-prava/maps/koprivnicko-krizevacka.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});


	$.getJSON("/reproduktivna-prava/maps/licko-senjska.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});

	$.getJSON("/reproduktivna-prava/maps/medimurska.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});
	
	$.getJSON("/reproduktivna-prava/maps/osjecko-baranjska.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});
	
	$.getJSON("/reproduktivna-prava/maps/pozesko-slavonska.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});
	
	$.getJSON("/reproduktivna-prava/maps/sisacko-moslavacka.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});
	
	

	$.getJSON("/reproduktivna-prava/maps/splitsko-dalmatinska.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});
	
	$.getJSON("/reproduktivna-prava/maps/sibensko-kninska.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});

	$.getJSON("/reproduktivna-prava/maps/varazdinska.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});
	

	$.getJSON("/reproduktivna-prava/maps/viroviticko-podravska.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});
	

	$.getJSON("/reproduktivna-prava/maps/vukovarsko-srijemska.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});
	

	$.getJSON("/reproduktivna-prava/maps/zadarska.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});
	
	
	$.getJSON("/reproduktivna-prava/maps/zagrebacka.geojson",function(hoodData){
	  L.geoJson( hoodData  , {
	    style: function(feature){
	      var fillColor,
	          density = feature.properties.density;
	      if ( density > 80 ) fillColor = "#006837";
	      else if ( density > 750 ) fillColor = "#31a354";
	      else if ( density > 450 ) fillColor = "#78c679";
	      else if ( density > 250 ) fillColor = "#c2e699";
	      else if ( density > 92 ) fillColor = "#ffffcc";
	      else fillColor = "#f7f7f7";  // no data
	      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
	    },
	    onEachFeature: function( feature, layer ){
	      layer.bindPopup( "<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.density + " pobačaja" )
	    }
	  }  ).addTo(map);
	});

	// load GeoJSON from an external file
	  $.getJSON("map.geojson",function(data){
	    // add GeoJSON layer to the map once the file is loaded
	    var medicalIcon = L.icon({
		    iconUrl: 'med.svg',
		    iconSize: [30,30]
		  }); 
		  L.geoJson(data  ,{
		    pointToLayer: function(feature,latlng){
				var marker = L.marker(latlng,{icon: medicalIcon});
			  marker.bindPopup( "<strong>" + feature.properties.name + "</strong><br/>" + "Broj specijalista:&nbsp;" +  feature.properties.specijalisti  + "<br/>" + "Broj priziva:&nbsp;" +  feature.properties.prizivi + "<br/>" + "Cijena (opća anestezija):&nbsp;" +  feature.properties.cijena);
			  return marker;
		    }
		  }  ).addTo(map);
		});

  </script>
	</br>
	<p>Interaktivna karta dostupnosti medicinske usluge prekida trudnoće u Hrvatskoj nastala je kao proizvod vikend datathona u sklopu konferencije <a href="https://odd.codeforcroatia.org/" target="_blank">Dani otvorenih podataka / Open Data Day 2019.</a>, a na njoj je radio ženski tim ekspertne skupine <a href="https://codeforcroatia.org/" target="_blank">Code for Croatia</a> vođen Zojom Bajbutović. Napravljena je temeljem podataka skupljenih novinarskim istraživanjem reporterke <a href="https://hr.wikipedia.org/wiki/RTL_Televizija"  target="_blank">RTL televizije</a> Danke Derifaj za emisiju „Potraga“ i slobodne novinarke Mašenjke Bačić čiji je tekst o dostupnosti medicinske usluge prekida trudnoće primio nagradu Balkanske stipendije za novinarsku izvrsnost.
	</p>
	<p>Od 27 javnih bolnica koje imaju ovlaštenje za obavljanje postupka prekida trudnoće na zahtjev pacijentice, novinarke su skupile podatke o ukupnom broju specijalista ginekologije i koliko ih ima priziv savjesti. Prema tome na karti je mapirana dostupnost ove medicinske usluge za svaku od 21 hrvatske županije.</p>
	<p>Podaci su povezani sa <a href="https://docs.google.com/spreadsheets/d/1v2ynQyKi8-BuaD8IMAUDoB2ruMFAyVRjUi5tyKZOtj0/edit#gid=0" target="_blank">statistikama iz ljetopisa</a> Hrvatskog zavoda za javno zdravstvo o broju medicinski induciranih prekida trudnoće po županijama u 2017. godini.</p>
	<p>Navedene su okvirne cijene ove medicinske usluge (iz istraživanja provedenog u proljeće 2018.), jer cijenu svaka bolnica kreira autonomno, a niti jedna nema objavljenu cijenu u svojim cjenicima na web stranicama.
	</p></br></br>
	<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons licenca" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><span style="padding-left:10px;font-size:12px;">Ovo djelo čiji je autor <a xmlns:cc="http://creativecommons.org/ns#" href="https://codeforcroatia.org/" property="cc:attributionName" rel="cc:attributionURL">Code for Croatia</a>, ustupljeno je pod licencom <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Imenovanje-Dijeli pod istim uvjetima 4.0 međunarodna</a></span>
	
	</div>
	</br>
</body>
</html>